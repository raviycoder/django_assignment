{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Web Page</title>
    <link rel="stylesheet" href="{% static 'myapp/styles.css' %}" />
    <script>
      // JavaScript function to reset the form
      function resetForm() {
        document.getElementById("userForm").reset();
      }

      // JavaScript function to show alert
      function showAlert(message) {
        alert(message);
      }
    </script>
  </head>
  <body>
    <header>
      <h1>My Web Page</h1>
      <nav>
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/users/">Users</a></li>
        </ul>
      </nav>
    </header>
    <main>
      <h2>Welcome to My Web Page</h2>
      <p>This is the main content area.</p>
      {% if current_time %}
      <p>Current Time: {{ current_time }}</p>
      {% endif %}
      <div id="form_section">
        <h1>Form Section</h1>
        {% if error %}
        <script>
          // Show alert if there's an error
          showAlert("{{ error }}");
        </script>
        {% endif %} {% if success %}
        <script>
          // Reset form if submission is successful
          resetForm();
          showAlert("Form submitted successfully!");
        </script>
        {% endif %}
        <form action="/submit/" method="POST">
          <label for="name">Name:</label>
          <input type="text" id="name" name="name" required /><br />
          <label for="email">Email:</label>
          <input type="email" id="email" name="email" required /><br />
          <button type="submit">Submit</button>
        </form>
      </div>
    </main>
    <footer>
      <div>
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/users">Users</a></li>
        </ul>
      </div>
      <p>Contact: email@example.com</p>
    </footer>
  </body>
</html>
